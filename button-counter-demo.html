<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebSharp Button Click Counter Demo</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 40px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .demo-container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .title {
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 2.5em;
        }
        
        .subtitle {
            color: #7f8c8d;
            margin-bottom: 40px;
            font-size: 1.2em;
        }
        
        .counter-display {
            font-size: 4em;
            font-weight: bold;
            color: #3498db;
            margin: 30px 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .demo-area {
            background: #f8f9fa;
            border: 2px dashed #dee2e6;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
        }
        
        .code-preview {
            background: #2c3e50;
            color: #ecf0f1;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Consolas', 'Monaco', monospace;
            text-align: left;
            white-space: pre-wrap;
            line-height: 1.6;
        }
        
        .feature-highlight {
            background: linear-gradient(135deg, #e8f5e8 0%, #f1f8e9 100%);
            border: 2px solid #4caf50;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .websharp-button {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 18px;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
            margin: 10px;
        }
        
        .websharp-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
        }
        
        .websharp-button:active {
            transform: translateY(0);
        }
        
        .reset-button {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
        }
        
        .reset-button:hover {
            box-shadow: 0 6px 20px rgba(231, 76, 60, 0.4);
        }
    </style>
</head>
<body>
    <!-- Include WebSharp Runtime -->
    <script src="minimal-runtime.js"></script>
    
    <div class="demo-container">
        <h1 class="title">ðŸŽ¯ WebSharp Button Counter</h1>
        <p class="subtitle">Interactive C# in the Browser with &lt;wscript&gt; Tags</p>
        
        <div class="feature-highlight">
            <h3>ðŸš€ What You're Seeing:</h3>
            <ul style="text-align: left;">
                <li><strong>C# Event Handling</strong> - Button clicks handled with C# syntax</li>
                <li><strong>State Management</strong> - Counter state maintained in C# variables</li>
                <li><strong>DOM Manipulation</strong> - Real-time UI updates from C# code</li>
                <li><strong>Zero Setup</strong> - All running directly in HTML with &lt;wscript&gt; tags</li>
            </ul>
        </div>
        
        <div class="demo-area">
            <h2>ðŸŽ® Interactive Demo</h2>
            <p>Click the buttons below - they're powered by WebSharp!</p>
            
            <!-- The counter display and buttons will be created by WebSharp -->
            <div id="counter-container"></div>
        </div>
        
        <div class="code-preview">
&lt;wscript&gt;
public class ButtonCounter {
    private static int clickCount = 0;
    private static HTMLDivElement counterDisplay;
    
    public static void InitializeCounter() {
        // Create counter display
        counterDisplay = new HTMLDivElement();
        counterDisplay.TextContent = clickCount.ToString();
        counterDisplay.ClassName = "counter-display";
        
        // Create click button
        var clickButton = new HTMLButtonElement();
        clickButton.TextContent = "ðŸŽ¯ Click Me!";
        clickButton.ClassName = "websharp-button";
        clickButton.OnClick = IncrementCounter;
        
        // Create reset button
        var resetButton = new HTMLButtonElement();
        resetButton.TextContent = "ðŸ”„ Reset";
        resetButton.ClassName = "websharp-button reset-button";
        resetButton.OnClick = ResetCounter;
        
        // Add to container
        var container = Document.GetElementById("counter-container");
        container.AppendChild(counterDisplay);
        container.AppendChild(clickButton);
        container.AppendChild(resetButton);
    }
    
    private static void IncrementCounter() {
        clickCount++;
        UpdateDisplay();
        Console.WriteLine($"Counter incremented to: {clickCount}");
    }
    
    private static void ResetCounter() {
        clickCount = 0;
        UpdateDisplay();
        Console.WriteLine("Counter reset to 0");
    }
    
    private static void UpdateDisplay() {
        counterDisplay.TextContent = clickCount.ToString();
    }
}

ButtonCounter.InitializeCounter();
&lt;/wscript&gt;
        </div>
    </div>

    <!-- WebSharp Counter Implementation -->
    <wscript>
    public class ButtonCounter {
        private static int clickCount = 0;
        private static HTMLDivElement counterDisplay;
        
        public static void InitializeCounter() {
            Console.WriteLine("ðŸŽ¯ Initializing WebSharp Button Counter...");
            
            // Create counter display
            counterDisplay = new HTMLDivElement();
            counterDisplay.TextContent = clickCount.ToString();
            counterDisplay.ClassName = "counter-display";
            
            // Create click button
            var clickButton = new HTMLButtonElement();
            clickButton.TextContent = "ðŸŽ¯ Click Me!";
            clickButton.ClassName = "websharp-button";
            clickButton.OnClick = IncrementCounter;
            
            // Create reset button
            var resetButton = new HTMLButtonElement();
            resetButton.TextContent = "ðŸ”„ Reset";
            resetButton.ClassName = "websharp-button reset-button";
            resetButton.OnClick = ResetCounter;
            
            // Create info display
            var info = new HTMLDivElement();
            info.TextContent = "Click the button above to increment the counter!";
            info.Style.Color = "#7f8c8d";
            info.Style.MarginTop = "20px";
            info.Style.FontStyle = "italic";
            
            // Add to container
            var container = Document.GetElementById("counter-container");
            container.AppendChild(counterDisplay);
            container.AppendChild(clickButton);
            container.AppendChild(resetButton);
            container.AppendChild(info);
            
            Console.WriteLine("âœ… Counter initialized successfully!");
        }
        
        private static void IncrementCounter() {
            clickCount++;
            UpdateDisplay();
            Console.WriteLine($"ðŸŽ¯ Counter incremented to: {clickCount}");
            
            // Add some visual feedback
            if (clickCount % 10 == 0) {
                ShowMilestone();
            }
        }
        
        private static void ResetCounter() {
            clickCount = 0;
            UpdateDisplay();
            Console.WriteLine("ðŸ”„ Counter reset to 0");
        }
        
        private static void UpdateDisplay() {
            counterDisplay.TextContent = clickCount.ToString();
            
            // Change color based on count
            if (clickCount < 5) {
                counterDisplay.Style.Color = "#3498db";
            } else if (clickCount < 10) {
                counterDisplay.Style.Color = "#f39c12";
            } else if (clickCount < 20) {
                counterDisplay.Style.Color = "#e74c3c";
            } else {
                counterDisplay.Style.Color = "#9b59b6";
            }
        }
        
        private static void ShowMilestone() {
            Console.WriteLine($"ðŸŽ‰ Milestone reached: {clickCount} clicks!");
            
            // Create temporary celebration message
            var celebration = new HTMLDivElement();
            celebration.TextContent = $"ðŸŽ‰ {clickCount} clicks milestone!";
            celebration.Style.Color = "#27ae60";
            celebration.Style.FontWeight = "bold";
            celebration.Style.Margin = "10px 0";
            celebration.Style.Animation = "fadeIn 0.5s ease-in";
            
            var container = Document.GetElementById("counter-container");
            container.AppendChild(celebration);
            
            // Remove after 3 seconds
            setTimeout(function() {
                container.RemoveChild(celebration);
            }, 3000);
        }
    }
    
    // Initialize the counter when this script runs
    ButtonCounter.InitializeCounter();
    </wscript>

    <!-- Status and additional info -->
    <script>
    // Add some CSS animation
    const style = document.createElement('style');
    style.textContent = `
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .counter-display {
            animation: fadeIn 0.3s ease-in-out;
        }
    `;
    document.head.appendChild(style);

    // Show runtime status
    setTimeout(() => {
        console.log('ðŸŽ¯ WebSharp Button Counter Demo loaded successfully!');
        console.log('âœ… Event handling with C# syntax working');
        console.log('âœ… State management in WebSharp working');
        console.log('âœ… DOM manipulation from C# working');
        console.log('ðŸŽ® Try clicking the buttons above!');
    }, 1000);
    </script>
</body>
</html>
